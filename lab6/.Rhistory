library("tidyverse")
library("janitor")
gabon <- read.csv("data/IvindoData_DryadVersion.csv")
glimpse(gabon)
library("tidyverse")
library("janitor")
library("palmerpenguins") #load the palmerpenguins package
options(scipen=999) #turn off scientific notation
penguins %>%
select(species, island, body_mass_g) %>%
arrange(body_mass_g)
penguins %>%
filter(islands=="Biscoe" | islands=="Dream")
penguins %>%
filter(island=="Biscoe" | island=="Dream")
ggplot(data=penguins, mapping=aes(x=body_mass_g,y=flipper_length_mm))+
geom_point()+
geom_smooth(method=lm)+
labs(title="Body mass vs flipper length",x="Body mass (g)", y="Flipper length (mm)")
penguins %>%
filter(island==c("Biscoe","Dream"))
penguins %>%
filter(island %in% c("Biscoe","Dream"))
penguins %>%
filter(island==c("Biscoe", "Dream"))
penguins %>%
distinct()
dim(penguins)
penguins %>%
distinct()
penguins %>%
distinct(species)
penguins %>%
distinct(species, island)
penguins %>%
distinct(species, island, .keep_all = T)
penguins %>%
distinct(species, island, )
penguins %>%
distinct(species, island, .keep_all = T)
penguins %>%
mutate(across(ends_with("mm"), ~./10))
penguins %>%
mutate(across(ends_with("mm"), ~./10)) %>%
select(species, island, bill_length_cm=bill_length_mm, bill_depth_cm=bill_depth_mm, flipper_length_cm=flipper_length_mm, body_mass_g, sex, year)
mammals <- read.csv("data/mammal_lifehistories_v2.csv")
View(mammals)
glimpse(mammals)
mammals <- mammals %>%
clean_names()
glimpse(mammals)
mammals %>%
mutate(across(c("order","family", tolower)))
mammals %>%
mutate(across(c("order","family"), tolower))
mammals %>%
mutate(across(everything()), tolower)
mammals %>%
mutate(across(everything(), tolower))
mammals %>%
mutate(across(where(is.character), tolower))
summary(mammals)
mammals %>%
select(genus, species, newborn) %>%
arrange(newborn)
mammals %>%
select(genus, species, newborn) %>%
mutate(newborn_new=ifelse(newborn == -999.00, NA, newborn))
mammals %>%
select(genus, species, newborn) %>%
mutate(newborn=ifelse(newborn == -999.00, NA, newborn))
mammals %>%
select(genus, species, newborn) %>%
mutate(across(where(is.numeric()))=ifelse(newborn == -999.00, NA, newborn))
mammals %>%
mutate((where(is.numeric()))=ifelse(newborn == -999.00, NA, newborn))
names(mammals)
mammals %>%
mutate(mass=ifelse(mass == -999.00, NA, mass)) %>%
mutate(gestation=ifelse(gestation == -999.00, NA, gestation)) %>%
mutate(newborn=ifelse(newborn == -999.00, NA, newborn)) %>%
mutate(weaning=ifelse(weaning == -999.00, NA, weaning)) %>%
mutate(wean_mass=ifelse(wean_mass == -999.00, NA, wean_mass)) %>%
mutate(afr=ifelse(afr == -999.00, NA, afr)) %>%
mutate(max_life=ifelse(max_life == -999.00, NA, max_life)) %>%
mutate(litter_size=ifelse(litter_size == -999.00, NA, litter_size)) %>%
mutate(litters_year=ifelse(litters_year == -999.00, NA, litters_year))
mammals %>%
mutate(mass_kg=mass/1000) %>%
select(genus, species, mass, mass_kg) %>%
arrange(mass_kg)
mammals %>%
mutate(mass_kg=mass/1000) %>%
select(genus, species, mass, mass_kg) %>%
arrange(desc(mass_kg))
ggplot(data=mammals, mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm)+
labs(title="gestations vs newborn mass")
ggplot(data=mammals, mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm)+
labs(title="gestations vs newborn mass")+
scale_y_log10()
mammals_w_na <- mammals %>%
mutate(mass=ifelse(mass == -999.00, NA, mass)) %>%
mutate(gestation=ifelse(gestation == -999.00, NA, gestation)) %>%
mutate(newborn=ifelse(newborn == -999.00, NA, newborn)) %>%
mutate(weaning=ifelse(weaning == -999.00, NA, weaning)) %>%
mutate(wean_mass=ifelse(wean_mass == -999.00, NA, wean_mass)) %>%
mutate(afr=ifelse(afr == -999.00, NA, afr)) %>%
mutate(max_life=ifelse(max_life == -999.00, NA, max_life)) %>%
mutate(litter_size=ifelse(litter_size == -999.00, NA, litter_size)) %>%
mutate(litters_year=ifelse(litters_year == -999.00, NA, litters_year))
ggplot(data=mammals_w_na, mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm)+
labs(title="gestations vs newborn mass")+
scale_y_log10()
ggplot(data=mammals_w_na, mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm)+
labs(title="gestations vs newborn mass")
scale_y_log10()
ggplot(data=mammals_w_na, mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm)+
labs(title="gestations vs newborn mass")+
scale_y_log10()
mammals %>%
select(genus, species, max_life) %>%
arrange(desc(max_life))
ggplot(data=mammals_w_na, mapping=aes(x=mass, y=max_life))+
geom_point()+
geom_smooth(method=lm)+
labs(title="mass vs lifespan")
gabon_factors <- mutate(gabon, HuntCat=as.factor(HuntCat), LandUse=as.factor(LandUse), TransectID=as.factor(TransectID))
gabon_factors <- mutate(gabon, HuntCat=as.factor(HuntCat), LandUse=as.factor(LandUse), TransectID=as.factor(TransectID))
gabon_factors
ggplot(data=mammals_w_na, mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm)+
labs(title="gestations vs newborn mass")+
scale_y_log10()
ggplot(data=mammals_w_na, mapping=aes(x=gestation, y=log10(newborn)))+
geom_point()+
geom_smooth(method=lm)+
labs(title="gestations vs newborn mass")
scale_y_log10()
ggplot(data=mammals_w_na, mapping=aes(x=log10(mass), y=max_life))+
geom_point()+
geom_smooth(method=lm)+
labs(title="mass vs lifespan")
gabon <- clean_names(gabon) %>%
mutate(across(where(is.character), tolower))
gabon
gabon <- mutate(gabon, hunt_cat=as.factor(hunt_cat), land_use=as.factor(land_use), transect_id=as.factor(transect_id))
gabon
mammals <- mammals %>%
mutate(across(where(is.numeric))=ifelse(. == -999.00, NA, .))
