ggplot(aes(x=lex))+
geom_histogram(aes(y=after_stat(density)), color="pink", fill="pink")+
geom_density(color="red")
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(aes(y=after_stat(density)), color="pink", fill="pink")+
geom_density(color="red")
gap %>%
filter(year==1935) %>%
ggplot(aes(x=lex))+
geom_histogram(aes(y=after_stat(density)), color="pink1", fill="pink")+
geom_density(color="red")
gap %>%
filter(year==1930 | year==1950) %>%
ggplot(aes(x=lex))+
geom_density(fill=year)
gap %>%
mutate(year=as.factor(year))
filter(year==1930 | year==1950) %>%
ggplot(aes(x=lex))+
geom_density(fill=year)
gap %>%
mutate(year=as.factor(year))
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex))+
geom_density(fill=year)
gap %>%
mutate(year=as.factor(year))
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex))+
geom_density(fill=year)
gap %>%
mutate(year=as.factor(year))
filter(year=="1930" | year=="1950")
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex))+
geom_density(fill=year)
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950")
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex))+
geom_density(fill=year)
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex))+
geom_density()
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
group_by(year) %>%
ggplot(aes(x=lex))+
geom_density()
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
group_by(year) %>%
ggplot(aes(x=lex,color=year,fill=year))+
geom_density()
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
group_by(year) %>%
ggplot(aes(x=lex,color=year,fill=year,alpha=.3))+
geom_density()
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
group_by(year) %>%
ggplot(aes(x=lex,color=year,fill=year))+
geom_density(alpha=.3)
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex,color=year,fill=year))+
geom_density(alpha=.3)
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex,color=year,fill=year))+
geom_density(alpha=.3)+
labs(title="Life expectancy in 1930 and 1950",x="Life expectancy (years)")
gap %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex,color=year,fill=year))+
geom_density(alpha=.3)+
labs(title="Life expectancy in 1930 and 1950",x="Life expectancy (years)")
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex,color=year,fill=year))+
geom_density(alpha=.3)+
labs(title="Life expectancy in 1930 and 1950",x="Life expectancy (years)")
gap %>%
mutate(year=as.factor(year)) %>%
filter(year=="1930" | year=="1950") %>%
ggplot(aes(x=lex,color=year,fill=year))+
geom_density(alpha=.3)+
labs(title="Life expectancy in 1930 and 1950",x="Life expectancy (years)",color="Year",fill="Year")
gap %>%
filter(year==2000) %>%
mutate(income_category=case_when(gdp<=1100 ~ "low",
gdp>1100 & gdp<=4500 ~ "low_middle",
gdp>4500 & gdp<=13900 ~ "upper_middle",
gdp>13900 ~ "high")) %>%
select(country, gdp, income_category)
gap %>%
filter(year==2000) %>%
mutate(income_category=case_when(gdp<=1100 ~ "low",
gdp>1100 & gdp<=4500 ~ "low_middle",
gdp>4500 & gdp<=13900 ~ "upper_middle",
gdp>13900 ~ "high")) %>%
select(country, gdp, income_category) %>%
mutate(income_category=factor(income_category,
levels=c("low","low_middle","upper_middle","high")))
income_cat2000 <- gap %>%
filter(year==2000) %>%
mutate(income_category=case_when(gdp<=1100 ~ "low",
gdp>1100 & gdp<=4500 ~ "low_middle",
gdp>4500 & gdp<=13900 ~ "upper_middle",
gdp>13900 ~ "high")) %>%
select(country, gdp, income_category) %>%
mutate(income_category=factor(income_category,
levels=c("low","low_middle","upper_middle","high")))
income_cat2000 %>%
count(income_category)
income_cat2000 %>%
count(income_category) %>%
ggplot(aes(x=income_category,y=n))+
geom_col()
income_cat2000 %>%
count(income_category) %>%
ggplot(aes(x=income_category,y=n))+
geom_col()+
labs("Number of countries in each income category in 2000",y=NULL,x="Income category")
income_cat2000 %>%
count(income_category) %>%
ggplot(aes(x=income_category,y=n))+
geom_col()+
labs(title="Number of countries in each income category in 2000",y=NULL,x="Income category")
income_cat2000 %>%
count(income_category) %>%
drop_na(income_category)
ggplot(aes(x=income_category,y=n))+
geom_col()+
labs(title="Number of countries in each income category in 2000",y=NULL,x="Income category")
income_cat2000 %>%
count(income_category) %>%
drop_na(income_category) %>%
ggplot(aes(x=income_category,y=n))+
geom_col()+
labs(title="Number of countries in each income category in 2000",y=NULL,x="Income category")
income_cat2000 %>%
count(income_category) %>%
drop_na(income_category) %>%
ggplot(aes(x=income_category,y=n))+
geom_col(fill="pink")+
labs(title="Number of countries in each income category in 2000",y=NULL,x="Income category")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv",
na = c("", "NA", "\\")) %>%
clean_names()
p <- homerange %>%
ggplot(aes(x=taxon, fill=thermoregulation))+
geom_bar(na.rm=T, position="dodge")+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=log10_mass,y=log10_preymass))+
geom_point()+
geom_smooth(method=lm)
q <- homerange %>%
ggplot(aes(x=log10_mass,y=log10_preymass))+
geom_point()+
geom_smooth(method=lm)
q+ theme_classic()
q+ theme_void()
q <- homerange %>%
ggplot(aes(x=log10_mass,y=log10_preymass,color=thermoregulation))+
geom_point()+
geom_smooth(method=lm)
q
q <- homerange %>%
ggplot(aes(x=log10_mass,y=log10_preymass,color=thermoregulation))+
geom_point()+
geom_smooth(method=lm,se=F,color="red")
q
q <- homerange %>%
ggplot(aes(x=log10_mass,y=log10_preymass,color=thermoregulation))+
geom_point()+
geom_smooth(method=lm,se=F,color="black")
q
q+ theme_classic()
q <- homerange %>%
ggplot(aes(x=log10_mass,y=log10_preymass,color=thermoregulation))+
geom_point()+
geom_smooth(method=lm,se=F,color="coral")
q
q+ theme_classic()
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "left",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
install.packages("ggthemes")
library(ggthemes)
p +
theme_few()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p +
theme_wsj()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+theme_solarized()
q <- homerange %>%
ggplot(aes(x=log10_mass,y=log10_preymass,color=thermoregulation))+
geom_point()+
geom_smooth(method=lm,se=F,color="black")
q
q+theme_solarized()
?RColorBrewer
p+scale_fill_brewer(palette = "Set1")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+scale_fill_brewer(palette = "Pastel1")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+scale_fill_brewer(palette = "Pastel2")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+scale_fill_brewer(palette = "Paired")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+scale_fill_brewer(palette = "Accent")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+scale_fill_brewer(palette = "Dark2")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+theme_classic()+
scale_color_brewer(palette = "Dark2")
colors <- paletteer::palettes_d_names
View(colors)
my_palette <- paletteer_d("ggsci::uniform_startrek")
my_palette
my_palette <- paletteer_d("ggsci::planetexpress_futurama")
my_palette
my_palette <- paletteer_d("ggthemes::fivethirtyeight")
my_palette
my_palette <- paletteer_d("ghibli::KikiLight")
my_palette
my_palette <- paletteer_d("ghibli::KikiDark")
my_palette
my_palette <- paletteer_d("ghibli::MononokeMedium")
my_palette
my_palette <- paletteer_d("ghibli::SpiritedMedium")
my_palette
my_palette <- paletteer_d("impressionist.colors::bouilloire_et_fruits")
my_palette
my_palette <- paletteer_d("ghibli::KikiMedium")
my_palette
barplot(rep(1,7), axes=FALSE, col=my_palette)
my_palette <- paletteer_d("ghibli::PonyoLight")
my_palette
barplot(rep(1,7), axes=FALSE, col=my_palette)
q+scale_fill_manual(values=my_palette)
library(scales)
my_cols <- c("#66CDAA",
"#FFCD00FF")
show_col(my_cols)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild,ncol=2,labeller=label_both())
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild,ncol=2,labeller=label_both
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild,ncol=2,labeller=label_both)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild,ncol=2,labeller=label_both)+
theme(axis.text.x=element_text(angle=60))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild,ncol=2,labeller=label_both)+
theme(axis.text.x=element_text(angle=60,hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild,ncol=2,labeller=label_both)+
theme(axis.text.x=element_text(angle=60,hjust=1),
legend.position="none",
strip.text=element_text(size=12,face="bold"))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_wrap(~trophic_guild,nrow=2,labeller=label_both)+
theme(axis.text.x=element_text(angle=60,hjust=1),
legend.position="none",
strip.text=element_text(size=12,face="bold"))
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(~trophic_guild,nrow=2,labeller=label_both)+
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(~trophic_guild,nrow=2,labeller=label_both)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(thermoregulation~.,labeller=label_both)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(.~thermoregulation,labeller=label_both)
homerange %>%
ggplot(aes(x=taxon, y=log10_mass, fill=thermoregulation))+
geom_boxplot()+
facet_grid(trophic_guild~thermoregulation,labeller=label_both)
homerange %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_wrap(~thermoregulation,ncol=2)
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density()+
facet_grid(locomotion~thermoregulation)
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density()+
facet_grid(thermoregulation~locomotion)
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density(fill="pink")+
facet_grid(thermoregulation~locomotion)
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density(fill="pink",color="pink")+
facet_grid(thermoregulation~locomotion)
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density(fill="pink",color="pink")+
facet_grid(thermoregulation~locomotion)+
theme_classic()
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density(fill="pink",color="pink")+
facet_grid(thermoregulation~locomotion)+
theme_wsj()
homerange %>%
ggplot(aes(x=log10_hra))+
geom_density(fill="pink",color="pink")+
facet_grid(thermoregulation~locomotion)+
theme_stata()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
options(scipen = 999)
gapminder <- read_csv("data/gapminder.csv") %>%
clean_names() %>%
filter(between(year, 1925, 2025))
glimpse(gapminder)
View(gapminder)
gapminder %>%
count(country)
gapminder %>%
unique(country)
gapminder %>%
unique(gapminder$country)
gapminder %>%
distinct(country)
gapminder %>%
filter(year==1925 | year==2025) %>%
mutate(pop_growth=(pop-pop))
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year) %>%
mutate(pop_growth=(pop-pop))
gapminder %>%
filter(year==1925 | year==2025) %>%
where(year==1925),pop
gapminder %>%
filter(year==1925 | year==2025) %>%
where(year==1925)
?where
gapminder %>%
filter(year==1925 | year==2025)
gapminder %>%
filter(year==1925 | year==2025) %>%
mutate(pop_growth=(pop-pop))
gapminder %>%
filter(year==1925 | year==2025) %>%
pivot_wider(names_from = year)
gapminder %>%
filter(year==1925 | year==2025) %>%
pivot_wider(names_from = year, values_from = pop)
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year) %>%
summarise(total_pop=sum(pop))
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop))
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T))
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T), .groups = "drop") %>%
pivot_wider()
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = pop)
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = total_pop)
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = total_pop) %>%
mutate(growth="2025"-"1925")
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = total_pop) %>%
mutate(growth=2025-1925)
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = total_pop) %>%
mutate(growth=gapminder$2025-gapminder$1925)
gapminder %>%
filter(year==1925 | year==2025) %>%
group_by(year, country) %>%
summarise(total_pop=sum(pop, na.rm=T), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = total_pop) %>%
mutate(growth=2025-1925)
