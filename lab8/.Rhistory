library("tidyverse")
library("janitor")
library("naniar")
options(scipen = 999)
fisheries_clean <- read_csv("data/fisheries_clean.csv")
glimpse(fisheries_clean)
glimpse(fisheries_clean)
summary(fisheries_clean)
View(fisheries_clean)
glimpse(fisheries_clean)
summary(fisheries_clean)
unique(fisheries_clean)
fisheries_clean %>%
mutate(period=as.factor(period),
continent=as.factor(continent),
geo_region=as.factor(geo_region),
country=as.factor(country),
scientific_name=as.factor(scientific_name),
common_name=as.factor(common_name),
taxonomic_code=as.factor(taxonomic_code),
status=as.factor(status))
fisheries_clean <- fisheries_clean %>%
mutate(period=as.factor(period),
continent=as.factor(continent),
geo_region=as.factor(geo_region),
country=as.factor(country),
scientific_name=as.factor(scientific_name),
common_name=as.factor(common_name),
taxonomic_code=as.factor(taxonomic_code),
status=as.factor(status))
View(fisheries_clean)
glimpse(fisheries_clean)
names(fisheries_clean)
unique(fisheries_clean$period)
unique(fisheries_clean$period)
unique(fisheries_clean$continent)
unique(fisheries_clean$geo_region)
unique(fisheries_clean$country)
unique(fisheries_clean$scientific_name)
unique(fisheries_clean$common_name)
unique(fisheries_clean$taxonomic_code)
unique(fisheries_clean$catch)
unique(fisheries_clean$status)
unique(fisheries_clean$period)
unique(fisheries_clean$continent)
unique(fisheries_clean$geo_region)
unique(fisheries_clean$country)
unique(fisheries_clean$taxonomic_code)
unique(fisheries_clean$catch)
unique(fisheries_clean$status)
fisheries_clean %>%
which(is.na())
which(is.na(fisheries_clean))
sum(is.na(fisheries_clean))
fisheries_clean %>%
sum(is.na())
fisheries_clean %>%
sum(is.na(.))
fisheries_clean %>%
select(period) %>%
sum(is.na())
fisheries_period <- fisheries_clean %>%
select(period)
sum(is.na(fisheries_period))
colSums(is.na(fisheries_clean))
fisheries_clean %>%
summarise(across(everything(), ~ sum(is.na(.))))
count(fisheries_clean$country)
fisheries_clean %>%
unique(country) %>%
count()
count(unique(fisheries_clean$country))
msleep %>%
count(vore,order)
msleep %>%
filter(order=="Carnivora") %>%
count(conservation, sort=T)
fisheries_clean %>%
count(country)
fisheries_clean %>%
unique(country)
fisheries_clean %>%
unique(country)
fisheries_clean %>%
unique(fisheries_clean$country)
unique(fisheries_clean$country)
unique(fisheries_clean$taxonomic_code)
unique(fisheries_clean$common_name)
fisheries_clean$common_name
fisheries_clean %>%
select(country, catch) %>%
arrange(desc(catch))
fisheries_clean %>%
select(country, catch) %>%
unique(country) %>%
arrange(desc(catch))
fisheries_clean %>%
select(country, catch) %>%
unique(fisheries_clean$country) %>%
arrange(desc(catch))
fisheries_clean %>%
select(country, catch) %>%
arrange(desc(catch))
unique(fisheries_clean$country) %>%
select(country, catch) %>%
arrange(desc(catch))
fisheries_clean %>%
select(country, catch) %>%
arrange(desc(catch))
?unique
fisheries_clean %>%
select(country, catch) %>%
arrange(desc(catch)) %>%
distinct(country)
sum(distinct(fisheries_clean$country))
count(unique(fisheries_clean$country))
fisheries_clean %>%
summarize(count = n_distinct(country))
fisheries_clean %>%
summarize(count_name = n_distinct(common_name), count_code = n_distinct(taxonomic_code))
fisheries_clean %>%
select(country, catch) %>%
arrange(desc(catch)) %>%
distinct(country) %>%
head(5)
fisheries_clean %>%
filter(period=="2023") %>%
select(common_name, catch)
arrange(desc(catch)) %>%
head(10)
fisheries_clean %>%
filter(period=="2023") %>%
select(common_name, catch) %>%
arrange(desc(catch)) %>%
head(10)
fisheries_clean %>%
filter(period=="2023") %>%
select(common_name, catch) %>%
arrange(desc(catch)) %>%
distinct(common_name) %>%
head(10)
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)") %>%
select(country, catch) %>%
arrange(desc(catch)) %>%
head(5)
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)" & period=="2023") %>%
select(country, catch) %>%
arrange(desc(catch)) %>%
head(5)
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)") %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_boxplot()
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)") %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_point()
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)", period>=2013) %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_point()
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)", period==as.character(c(2013:2023))) %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_point()
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)",
period==c("2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023")) %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_point()
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)",
period=="2013"|"2014"|"2015"|"2016"|"2017"|"2018"|"2019"|"2020"|"2021"|"2022"|"2023")
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)",
period %in% c("2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"))
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)",
period %in% c("2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023")) %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_point()
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)",
period %in% c("2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023")) %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_boxplot()
fisheries_clean %>%
ggplot(mapping=aes(x=status,y=catch))+
geom_point()
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()+
scale_y_log10()
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()
scale_y_log10()
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()
ylim=c(0,20000)
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()+
ylim=c(0,20000)
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()+
coord_cartesian(ylim=c(0, 20000))
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()+
coord_cartesian(ylim=c(0, 5000))
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()+
coord_cartesian(ylim=c(0, 2000))
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()+
scale_y_log10()
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)",
period %in% c("2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023")) %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_boxplot()+
labs(title="Fishing of Peruvian anchony over last 10 years", x="Year",y="Catch")
fisheries_clean %>%
filter(common_name=="Anchoveta(=Peruvian anchovy)",
period %in% c("2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023")) %>%
ggplot(mapping=aes(x=period,y=catch))+
geom_boxplot()+
labs(title="Fishing of Peruvian anchony over last 10 years", x="Year",y="Catch")
fisheries_clean %>%
filter(period=="2016") %>%
ggplot(mapping=aes(x=continent,y=catch))+
geom_boxplot()+
scale_y_log10()+
labs(title="Catch by continent in 2016")
