library("tidyverse")
library("janitor")
life_history <- read_csv("data/mammal_lifehistories_v2.csv", na="-999") %>%
clean_names()
View(life_history)
life_history %>%
ggplot(mapping=aes(x=order,y=count))+
geom_col()
life_history %>%
ggplot(mapping=aes(x=order))+
geom_col()
life_history %>%
ggplot(mapping=aes(x=order))+
geom_bar()
life_history %>%
ggplot(mapping=aes(x=order))+
geom_bar()+
coord_flip()
life_history %>%
count(order,sort=T)
life_history %>%
count(order,sort=T) %>%
ggplot(mapping=aes(x=order,y=n))+
geom_col()+
coord_flip()
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange() %>%
ggplot(mapping=aes(x=order,y=mean_mass))+
geom_bar()
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange() %>%
ggplot(mapping=aes(x=order,y=mean_mass))+
geom_col()
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange() %>%
ggplot(mapping=aes(x=order,y=mean_mass))+
geom_col()+
coord_flip()
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange(desc(mean_mass))
options(scipen=999) #cancels scientific notation for the session
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange(desc(mean_mass)) %>%
ggplot(mapping=aes(x=order,y=mean_mass))+
geom_col()+
coord_flip()
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange(desc(mean_mass)) %>%
ggplot(mapping=aes(x=order,y=mean_mass))+
geom_col()+
coord_flip()+
scale_y_log10()
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange(desc(mean_mass)) %>%
ggplot(mapping=aes(x=reorder(order,mean_mass),y=mean_mass))+
geom_col()+
coord_flip()
life_history %>%
group_by(order) %>%
summarise(mean_mass=mean(mass, na.rm=T)) %>%
arrange(desc(mean_mass)) %>%
ggplot(mapping=aes(x=reorder(order,mean_mass),y=mean_mass))+
geom_col()+
coord_flip()+
scale_y_log10()
life_history %>%
ggplot(mapping=aes(x=gestation,y=wean_mass))+
geom_point()
life_history %>%
ggplot(mapping=aes(x=gestation,y=wean_mass))+
geom_point()+
scale_y_log10()
life_history %>%
ggplot(mapping=aes(x=gestation,y=wean_mass))+
geom_point()+
geom_smooth(method=lm)+
scale_y_log10()
life_history %>%
ggplot(mapping=aes(x=order,y=mass))+
geom_bar()
life_history %>%
ggplot(mapping=aes(x=order,y=mass))+
geom_boxplot()
life_history %>%
ggplot(mapping=aes(x=order,y=mass))+
geom_boxplot()+
coord_flip()
life_history %>%
ggplot(mapping=aes(x=order,y=mass))+
geom_boxplot()+
coord_flip()+
scale_y_log10()
names(life_history)
life_history %>%
ggplot(mapping=aes(x=mass,y=litter_size))+
geom_point()+
geom_smooth(method=lm)+
scale_x_log10()
life_history %>%
ggplot(mapping=aes(x=mass,y=litter_size))+
geom_point(na.rm=T)+
geom_smooth(method=lm)+
scale_x_log10()
life_history %>%
ggplot(mapping=aes(x=mass,y=litter_size))+
geom_point(na.rm=T)+
geom_smooth(method=lm, na.rm=T)+
scale_x_log10()
life_history %>%
ggplot(mapping=aes(x=mass,y=litter_size))+
geom_point(na.rm=T)+
geom_smooth(method=lm, na.rm=T)+
scale_x_log10()+
labs(title="Mass vs Litter size",x="Mass (g)", y="Litter size")
life_history %>%
ggplot(mapping=aes(x=mass,y=litter_size))+
geom_point(na.rm=T)+
geom_smooth(method=lm, na.rm=T)+
scale_x_log10()+
labs(title="Mass vs Litter size",x="Mass (g)", y="Litter size")+
theme(plot.title = element_text(size=rel(1.5),hjust=.5))
library(tidyverse)
library(janitor)
library(palmerpenguins)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\")) %>% clean_names()
View(homerange)
p <- homerange %>%
ggplot(mapping=aes(x=log10_mass,y=log10_hra))
p+geom_point(size=2.25)
p+geom_jitter(size=2.25)
p+geom_point(aes(color=thermoregulation, size=1.5))
p+geom_point(aes(color=thermoregulation), size=1.5)
p+geom_point(aes(shape=thermoregulation,color=thermoregulation), size=1.5)
p+geom_point(size=3,color="black",alpha=.8,shape=24,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=20,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=25,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=28,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=26,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=23,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=22,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=21,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=19,fill="blue")
p+geom_point(size=3,color="black",alpha=.8,shape=24,fill="blue")
homerange %>%
count(taxon, sort=T)
homerange %>%
ggplot(aes(x=taxon))+
geom_bar()+
coord_flip
homerange %>%
ggplot(aes(x=taxon))+
geom_bar()+
coord_flip()
homerange %>%
ggplot(aes(x=taxon))+
geom_bar()+
coord_flip()+
labs(y=NULL)
homerange %>%
ggplot(aes(x=taxon, fill=trophic_guild))+
geom_bar(position="dodge")+
coord_flip()+
labs(y=NULL)
homerange %>%
ggplot(aes(x=taxon, fill=trophic_guild))+
geom_bar(position="dodge")+
labs(y=NULL)
homerange %>%
ggplot(aes(x=taxon, fill=trophic_guild))+
geom_bar(position="dodge")+
theme(axis.text.x=element_text(angle=60))
labs(y=NULL)
homerange %>%
ggplot(aes(x=taxon, fill=trophic_guild))+
geom_bar(position="dodge")+
theme(axis.text.x=element_text(angle=60,hjust=.85))
labs(y=NULL)
homerange %>%
ggplot(aes(x=taxon,fill=trophic_guild))+
geom_bar(position=position_fill())+
scale_y_continuous(labels=scales::percent())+
coord_flip
homerange %>%
ggplot(aes(x=taxon,fill=trophic_guild))+
geom_bar(position=position_fill())+
scale_y_continuous(labels=scales::percent)+
coord_flip
homerange %>%
ggplot(aes(x=taxon,fill=trophic_guild))+
geom_bar(position=position_fill())+
scale_y_continuous(labels=scales::percent)+
coord_flip()
View(life_history)
penguins %>%
ggplot(aes(x=island, fill=species))+
geom_bar()
penguins %>%
ggplot(aes(x=island, fill=species))+
geom_bar(position="dodge")
penguins %>%
ggplot(aes(x=island, fill=sex))+
geom_bar(position="dodge")
penguins %>%
ggplot(aes(x=island, fill=sex))+
geom_bar(position="dodge", na.rm=T)
penguins %>%
ggplot(aes(x=island, fill=sex, na.rm=T))+
geom_bar(position="dodge")
penguins %>%
ggplot(aes(x=island, fill=sex), na.rm=T)+
geom_bar(position="dodge")
penguins %>%
ggplot(aes(x=island, fill=sex))+
geom_bar(position="dodge")
penguins %>%
na.omit() %>%
ggplot(aes(x=island, fill=sex))+
geom_bar(position="dodge")
homerange %>%
ggplot(aes(x=class,y=log10_mass))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10_mass, group=taxon))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10_mass, fill=taxon))+
geom_boxplot()
library("tidyverse")
library("janitor")
sharks <-
read_csv("data/SharkIncidents_1950_2022_220302.csv",
na=c("NA", "N/A", "Unknown", "NOT COUNTED", "", " ")) %>%
clean_names()
View(sharks)
sharks %>%
count(county, sort=T)
sharks %>%
count(county, sort=T) %>%
head(5)
sharks %>%
ggplot(aes(x=county))+
geom_bar()
sharks %>%
ggplot(aes(x=county))+
geom_bar()+
coord_flip()+
labs(title="Number of incidents per county",x="County",y=NULL)
sharks %>%
ggplot(aes(x=reorder(county,count)))+
geom_bar()+
coord_flip()+
labs(title="Number of incidents per county",x="County",y=NULL)
sharks %>%
ggplot(aes(x=county))+
geom_bar()+
coord_flip()+
labs(title="Number of incidents per county",x="County",y=NULL)
sharks %>%
count(month)
sharks %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title="Incidents per month",x="Month",y=NULL)+
coord_flip()
sharks %>%
ggplot(aes(x=time))+
geom_bar()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
na.omit() %>%
ggplot(aes(x=time))+
geom_bar()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
ggplot(aes(x=time))+
geom_bar()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
na.omit() %>%
ggplot(aes(x=time))+
geom_bar()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
ggplot(aes(x=time))+
geom_bar()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
count(time) %>%
head(10) %>%
ggplot(aes(x=time))+
geom_bar()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
count(time) %>%
head(10) %>%
ggplot(aes(x=time,y=n))+
geom_bar()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
count(time) %>%
head(10) %>%
ggplot(aes(x=time,y=n))+
geom_col()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
count(time) %>%
head(10)
sharks %>%
count(time, sort=T) %>%
head(10)
sharks %>%
count(time, sort=T) %>%
head(10) %>%
ggplot(aes(x=time,y=n))+
geom_col()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
count(time, sort=T) %>%
head(10) %>%
ggplot(aes(x=reorder(time,n),y=n))+
geom_col()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
sharks %>%
select(injury, county)
datasets::USPersonalExpenditure
?USPersonalExpenditure
expenditures <- as_tibble(USPersonalExpenditure) %>%
mutate(expenditure = rownames(USPersonalExpenditure)) %>%
relocate(expenditure)
expenditures
expenditures <- pivot_longer(expenditures, cols = !expenditure, names_to = "year", values_to = "value")
expenditures <- pivot_longer(expenditures, cols = !expenditure, names_to = "year", values_to = "value")
expenditures <- as_tibble(USPersonalExpenditure) %>%
mutate(expenditure = rownames(USPersonalExpenditure)) %>%
relocate(expenditure)
expenditures
expenditures <- pivot_longer(expenditures, cols = !expenditure, names_to = "year", values_to = "value")
expenditures
tb_data <- read_csv("data/tb_data.csv")
tb_data
pivot_wider(tb_data, names_from = key,values_from = value)
sharks %>%
select(injury, county) %>%
pivot_wider(names_from = injury)
sharks %>%
select(injury, county) %>%
pivot_wider(names_from = injury, values_from = n)
sharks %>%
select(injury, county) %>%
count(injury)
sharks %>%
select(injury, county) %>%
count(injury, county)
sharks %>%
select(injury, county) %>%
count(county, injury)
sharks %>%
select(injury, county) %>%
count(county, injury, sort=T)
sharks %>%
select(injury, county) %>%
count(county, injury)
sharks %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = county, values_from = n)
injury_by_county <- sharks %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = county, values_from = n)
View(injury_by_county)
injury_by_county %>%
ggplot(aes(x=injury))+
geom_bar()
library("tidyverse")
library("janitor")
sharks <-
read_csv("data/SharkIncidents_1950_2022_220302.csv",
na=c("NA", "N/A", "Unknown", "NOT COUNTED", "", " ")) %>%
clean_names()
sharks %>%
count(county, sort=T) %>%
head(5)
sharks %>%
ggplot(aes(x=county))+
geom_bar()+
coord_flip()+
labs(title="Number of incidents per county",x="County",y=NULL)
sharks %>%
count(month)
sharks %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title="Incidents per month",x="Month",y=NULL)+
coord_flip()
sharks %>%
count(time, sort=T) %>%
head(10)
sharks %>%
count(time, sort=T) %>%
head(10) %>%
ggplot(aes(x=reorder(time,n),y=n))+
geom_col()+
labs(title="Incidents by time of day",x="time of day",y=NULL)+
coord_flip()
injury_by_county <- sharks %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = county, values_from = n)
injury_by_county
injury_by_county <- sharks %>%
na.omit %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = county, values_from = n)
injury_by_county
injury_by_county <- sharks %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = county, values_from = n)
injury_by_county
injury_by_county <- sharks %>%
na.omit %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = county, values_from = n)
injury_by_county
injury_by_county <- sharks %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = county, values_from = n)
injury_by_county
sharks %>%
select(injury, county) %>%
count(county, injury)
sharks %>%
select(injury, county) %>%
count(county, injury) %>%
ggplot(aes(x=county,y=n))+
geom_col()
sharks %>%
select(injury, county) %>%
count(county, injury) %>%
ggplot(aes(x=county,y=n))+
geom_col()+
coord_flip()
sharks %>%
select(injury, county) %>%
count(county, injury) %>%
ggplot(aes(x=county,y=n))+
geom_col()+
coord_flip()+
labs(title="Incidents per county",y=NULL)
sharks %>%
count(mode)
sharks %>%
count(mode, sort=T)
sharks %>%
count(mode, sort=T) %>%
ggplot(aes(x=mode,y=n))+
geom_col()+
coord_flip()+
labs(title="Incidents by activity",x=NULL,y=NULL)
sharks %>%
count(species, sort=T)
View(sharks)
sharks %>%
select(species,injury) %>%
filter(species=="White") %>%
count(injury, sort=T
sharks %>%
select(species,injury) %>%
filter(species=="White") %>%
count(injury, sort=T)
sharks %>%
select(species,injury) %>%
filter(species=="White") %>%
count(injury, sort=T) %>%
ggplot(aes(x=injury,y=n))+
geom_col()+
coord_flip()+
labs(title="Severity of great white shark attacks",x="Severity of injury",y=NULL)
injury_by_county_two <- sharks %>%
select(injury, county) %>%
count(county, injury) %>%
pivot_wider(names_from = injury, values_from = n)
injury_by_county_two
